<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>

    <id>org.digma.intellij</id>
    <version>${project.version}</version>
    <name>Digma</name>
    <vendor>Digma inc todo:full vendor name</vendor>

    <depends>com.intellij.modules.platform</depends>

    <depends
            optional="true"
            config-file="org.digma.intellij-with-pycharm.xml">com.intellij.modules.python
    </depends>
    <depends
            optional="true"
            config-file="org.digma.intellij-with-idea.xml">com.intellij.modules.java
    </depends>
    <depends
            optional="true"
            config-file="org.digma.intellij-with-rider.xml">com.intellij.modules.rider
    </depends>


    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="Digma" secondary="true" icon="org.digma.intellij.plugin.icons.Icons.TOOL_WINDOW" anchor="left"
                    factoryClass="org.digma.intellij.plugin.toolwindow.DigmaToolWindowFactory"/>
        <projectService serviceImplementation="org.digma.intellij.plugin.service.EditorInteractionService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.analytics.AnalyticsService"
                        serviceInterface="org.digma.intellij.plugin.analytics.AnalyticsProvider"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.document.DocumentInfoService"/>
        <projectService serviceImplementation="org.digma.intellij.plugin.analytics.Environment"/>


        <projectService serviceImplementation="org.digma.intellij.plugin.document.CodeLensProvider"/>


        <projectService serviceImplementation="org.digma.intellij.plugin.ui.service.InsightsViewService"/>
        <projectService serviceImplementation="org.digma.intellij.plugin.ui.service.ErrorsViewService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.insights.InsightsProvider"/>
        <projectService serviceImplementation="org.digma.intellij.plugin.errors.ErrorsProvider"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.service.InsightsActionsService"/>


    </extensions>


    <projectListeners>
        <listener
                class="org.digma.intellij.plugin.project.ProjectOpenedListener"
                topic="com.intellij.openapi.project.ProjectManagerListener"/>
    </projectListeners>



</idea-plugin>
