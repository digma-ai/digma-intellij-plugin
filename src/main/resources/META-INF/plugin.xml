<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin require-restart="true">

    <id>org.digma.intellij</id>
    <version>${project.version}</version>
    <name>Digma Continuous Feedback</name>
    <vendor>digma.ai</vendor>
    <description>
      <![CDATA[
        <a href="https://github.com/digma-ai/digma"><img src="https://img.shields.io/github/stars/digma-ai/digma?style=social" alt="Github Repo"></a>&nbsp;
        <a href="https://twitter.com/doppleware"><img src="https://img.shields.io/twitter/follow/doppleware?style=social" alt="Twitter Follow"></a>&nbsp;
        <h1>Add Continuous Feedback to your coding practices</h2>
        <p>Digma is a Continuous Feedback platform. It integrates with your observability
        backend to provide meaningful code insights in the IDE. While coding, you can be aware of how the code behaves in runtime in various staging and production environments</p>

        <p>Digma provides integrated insights multiple code behavior topics including:
        <ul>
          <li>Error hostpots</li>
          <li>Usage bottlenecks and concurrency</li>
          <li>Performance trends</li>
        </ul>
        </p>
      ]]>
    </description>
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.vcs</depends>

    <depends
            optional="true"
            config-file="org.digma.intellij-with-pycharm.xml">com.intellij.modules.python
    </depends>
    <depends
            optional="true"
            config-file="org.digma.intellij-with-idea.xml">com.intellij.modules.java
    </depends>
    <depends
            optional="true"
            config-file="org.digma.intellij-with-rider.xml">com.intellij.modules.rider
    </depends>


    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="Digma" secondary="true" icon="org.digma.intellij.plugin.icons.AppIcons.TOOL_WINDOW" anchor="left"
                    factoryClass="org.digma.intellij.plugin.toolwindow.DigmaToolWindowFactory"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.ui.ToolWindowShower"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.service.EditorInteractionService"
                        serviceInterface="org.digma.intellij.plugin.ui.CaretContextService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.analytics.AnalyticsService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.document.DocumentInfoService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.document.CodeLensProvider"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.ui.service.InsightsViewService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.ui.service.ErrorsViewService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.insights.InsightsProvider"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.errors.ErrorsProvider"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.service.InsightsActionsService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.service.ErrorsActionsService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.ui.service.ToolWindowTabsHelper"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.service.EditorService"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.vcs.VcsService"/>

        <notificationGroup id="Digma Notification Group"
                           displayType="BALLOON"
                           toolWindowId="Digma"/>


        <projectConfigurable
                parentId="tools"
                instance="org.digma.intellij.plugin.settings.ProjectSettings"
                id="org.digma.intellij.plugin.settings.ProjectSettings"
                displayName="Digma Plugin"
                nonDefaultProject="true"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.settings.SettingsState"/>

        <projectService serviceImplementation="org.digma.intellij.plugin.persistence.PersistenceService"/>

        <editorNotificationProvider implementation="org.digma.intellij.plugin.notifications.DigmaEditorNotificationProvider"
                                    id="org.digma.intellij.plugin.notifications.DigmaEditorNotificationProvider"/>


    </extensions>


    <projectListeners>
        <listener
                class="org.digma.intellij.plugin.project.ProjectOpenedListener"
                topic="com.intellij.openapi.project.ProjectManagerListener"/>
    </projectListeners>



</idea-plugin>
